/crazyflie_server:
  ros__parameters:
    warnings:
      frequency: 1.0 # report/run checks once per second
      motion_capture:
        # Relaxed tolerance for Vicon jitter (was [80.0, 120.0])
        # Your Vicon shows 99.8-100.2 Hz which is normal
        warning_if_rate_outside: [95.0, 105.0]
      communication:
        # Adjusted for realistic multi-drone latency (was 10.0 ms)
        # Your system shows 11 ms which is acceptable
        max_unicast_latency: 20.0 # ms
        
        # Lowered to match observed performance and known firmware bugs
        # Your system: cf1 ~90%, cf2 54-69% (dual drone on single radio)
        min_unicast_ack_rate: 0.85  # was 0.9
        min_unicast_receive_rate: 0.85 # was 0.9 (requires status topic)
        min_broadcast_receive_rate: 0.50 # was 0.80 (cf2 shows 54-69% with 2 drones)
        
        # Enable stats publishing for monitoring
        publish_stats: true # was false - allows monitoring via /cf1/comm_stats
        
    firmware_params:
      # Don't query all params on connect - saves time and bandwidth
      query_all_values_on_connect: False
      
    # Simulation related (not used in your physical experiments)
    sim:
      max_dt: 0 #0.1              # artificially limit the step() function (set to 0 to disable)
      backend: np                 # see backend folder for a list 
      visualizations:             # see visualization folder for a list
        rviz:
          enabled: true
        pdf:
          enabled: false
          output_file: "result.pdf"
        record_states:
          enabled: false
          output_dir: "state_info"
          logging_time: 0.2  # how many seconds to leave between logs
          file_formats: ["csv", "np"] # csv, np
        blender:
          enabled: false
          fps: 1           # frames per second
          cycle_bg: false  # if true, pictures will cycle through different environemt background images (useful for synthetic image generation). Otherwise a single environment background image will be used
          cf_cameras:      # names of crazyflies with cameras on them if enabled in `crazyflies.yaml`
            cf231:
              calibration:
                tvec: [0,0,0]
                rvec: [1.2092,-1.2092,1.2092]   # 0 deg tilt (cameras looks in front of crazyflie)
            cf5:
              calibration:
                tvec: [0,0,0]
                rvec: [ 0.61394313, -0.61394313,  1.48218982]   # 45 deg tilt
      controller: mellinger # none, pid, mellinger

